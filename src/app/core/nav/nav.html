<nav class="sidebar-nav" [class.open]="sidebarOpen">
  <!-- Mobile close button -->
  <button class="sidebar-close d-md-none" (click)="toggleSidebar()" aria-label="Close menu">
    <i class="bi bi-x"></i>
  </button>
  
  <div class="sidebar-header">
    <!-- Desktop toggle button -->
    <button class="sidebar-toggle d-none d-md-block" (click)="toggleSidebar()">
      <i class="bi" [ngClass]="sidebarOpen ? 'bi-chevron-left' : 'bi-chevron-right'"></i>
    </button>
    <a [routerLink]="'/'" class="sidebar-logo">
      <img src="/assets/logo/govently-black.png" alt="Govently" *ngIf="sidebarOpen" />
      <img src="/assets/logo/govently-transparent.png" alt="G" *ngIf="!sidebarOpen" style="width:28px; height:28px;" />
    </a>
  </div>
  <div class="sidebar-content">
    <a [routerLink]="'/'" class="sidebar-btn" (click)="closeOnMobile()">
      <i class="bi bi-house-door"></i> 
      <span>Home</span>
    </a>
    <button (click)="chatWithAI()" class="sidebar-btn">
      <i class="bi bi-chat-dots"></i> 
      <span>Vent in Chat</span>
    </button>
    <button (click)="startJournaling()" class="sidebar-btn">
      <i class="bi bi-journal-text"></i> 
      <span>Vent Journaling</span>
    </button>
    <button class="sidebar-btn"
            *ngIf="!(currentUser$ | async)"
            (click)="openLoginModal(); closeOnMobile()">
      <i class="bi bi-box-arrow-in-right"></i> 
      <span>Login</span>
    </button>
    <button class="sidebar-btn"
            *ngIf="currentUser$ | async"
            (click)="logOut(); closeOnMobile()">
      <i class="bi bi-box-arrow-right"></i> 
      <span>Log Out</span>
    </button>
    <button class="sidebar-btn govently-therapist-link" (click)="openTherapistSignup(); closeOnMobile()">
      <i class="bi bi-person-heart"></i> 
      <span>Therapist?</span>
    </button>
  </div>
</nav>
 
<!-- Mobile overlay: closes sidebar when tapped -->
<div class="mobile-overlay" *ngIf="sidebarOpen" (click)="toggleSidebar()"></div>