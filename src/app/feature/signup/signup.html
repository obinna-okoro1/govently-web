<div class="signup-wrapper">
  <h3 class="text-center mb-4">Create Account</h3>

  <form (ngSubmit)="onSubmit()" #signupFormRef="ngForm">
    <div class="mb-3">
      <label for="email" class="form-label fw-semibold">Email address</label>
      <input
        type="email"
        id="email"
        class="form-control"
        name="email"
        [(ngModel)]="email"
        required
      />
    </div>

     <div class="mb-3">
    <label for="password" class="form-label fw-semibold">Password</label>
    <input
      type="password"
      id="password"
      class="form-control"
      name="password"
      [(ngModel)]="password"
      required
      pattern="^(?=.*[A-Z])(?=.*\d).{6,}$"
      #passwordCtrl="ngModel"
    />
    <div *ngIf="passwordCtrl.invalid && (passwordCtrl.dirty || passwordCtrl.touched)" class="text-danger mt-1">
      <small *ngIf="passwordCtrl.errors?.['required']">Password is required.</small>
      <small *ngIf="passwordCtrl.errors?.['pattern']">
        Must be at least 6 characters, include a capital letter and a number.
      </small>
    </div>
  </div>

  <!-- Confirm password field -->
  <div class="mb-3">
    <label for="confirmPassword" class="form-label fw-semibold">Confirm Password</label>
    <input
      type="password"
      id="confirmPassword"
      class="form-control"
      name="confirmPassword"
      [(ngModel)]="confirmPassword"
      required
      #confirmPasswordCtrl="ngModel"
    />
    <div *ngIf="confirmPasswordCtrl.dirty || confirmPasswordCtrl.touched" class="text-danger mt-1">
      <small *ngIf="confirmPassword !== password">
        Passwords do not match.
      </small>
    </div>
  </div>

    <button
      type="submit"
      class="btn btn-primary w-100 py-2 fw-semibold"
      [disabled]="!signupFormRef.valid || signupFormRef.invalid || password !== confirmPassword"
    >
      Sign Up
    </button>
  </form>

  <div *ngIf="errorMessage" class="alert alert-danger mt-3">
    {{ errorMessage }}
  </div>

  <div class="text-center mt-4">
    <small class="text-muted">Already have an account?</small>
    <a class="fw-semibold ms-2" (click)="goToLogin()">Login</a>
  </div>
</div>
