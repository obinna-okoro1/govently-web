<div class="chat-container">
  <div class="chat-header">
    <app-back-button-component></app-back-button-component>
    <h1>AI Chat</h1>
    <button class="clear-btn" (click)="burnChat()" title="Clear conversation">
      Clear Chat
    </button>
  </div>

  <div class="chat-messages" #chatBody>
    <div class="welcome-message" *ngIf="messages.length === 0">
      <div class="welcome-content">
        <h3>ðŸ‘‹ Hi there!</h3>
        <p>I'm here to listen and support you. What's on your mind?</p>
      </div>
    </div>

    <div *ngFor="let msg of messages" 
         class="message" 
         [class.user-message]="msg.sender === 'user'"
         [class.ai-message]="msg.sender === 'ai'">
      <div class="message-content">
        {{ msg.text }}
      </div>
    </div>

    <div *ngIf="isTyping" class="typing-indicator">
      <div class="typing-dots">
        <span></span><span></span><span></span>
      </div>
      <span>AI is typing...</span>
    </div>
  </div>

  <div class="chat-input">
    <form (ngSubmit)="sendMessage()" class="input-form">
      <div class="input-wrapper">
        <textarea 
          [(ngModel)]="userMessage" 
          name="message"
          placeholder="Type your message here..."
          class="message-input"
          rows="1"
          (input)="adjustTextareaHeight($event)"
          (keydown)="handleEnterKey($event)"></textarea>
        <button 
          type="submit" 
          class="send-button" 
          [disabled]="!userMessage.trim() || isTyping">
          Send
        </button>
      </div>
    </form>
  </div>
</div>

