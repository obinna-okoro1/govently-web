<ng-container *ngIf="entry">
    <div class="journal-card p-4 shadow-lg" data-aos="fade-up">

  <!-- Title -->
  <div class="text-center mb-3">
    <h4 class="fw-bold">📝 Edit Reflection</h4>
    <p class="text-muted">{{ entry.created_at | date: 'mediumDate' }}</p>
  </div>

    <!-- Quick Mood Check -->
    <div class="mood-section p-3 mb-4">
      <div class="mood-selector d-flex justify-content-center gap-3">
        <div *ngFor="let m of moods" 
     class="mood-btn"
     [class.selected]="updatedEntry.mood === m.label"
     [ngStyle]="{'background-color': m.color}"
     (click)="updatedEntry.mood = m.label"
     title="{{ m.label }}">

          {{ m.emoji }}
        </div>
      </div>
    </div>

  <!-- Prompt -->
  <div class="mb-3">
    <label class="form-label fw-semibold">Prompt</label>
    <div class="border border-light rounded p-3">{{ entry.prompt }}</div>
  </div>

  <!-- Entry -->
  <div class="mb-3">
    <label class="form-label fw-semibold">Your Thoughts</label>
    <textarea
      #textareaRef
      [(ngModel)]="updatedEntry.entry"
      rows="6"
      class="form-control journal-input"
      placeholder="Let your thoughts breathe here..."
    ></textarea>
  </div>

  <!-- Action Buttons -->
    <div class="d-flex gap-2 mt-4 justify-content-end">
      <button class="btn btn-outline-light px-3" (click)="cancel()">❌ Cancel</button>
      <button class="btn btn-save px-4" [disabled]="!updatedEntry.entry?.trim()" (click)="save()">
        💾 Save
      </button>
    </div>
</div>
</ng-container>
